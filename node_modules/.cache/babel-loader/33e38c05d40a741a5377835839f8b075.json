{"ast":null,"code":"var _jsxFileName = \"/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/src/components/NavBar/navBar.js\";\nimport React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { MDBNavbar, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBDropdown, MDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem } from \"mdbreact\";\nimport axios from \"axios\";\nimport { Redirect } from 'react-router';\n\nclass NavbarPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isOpen: false,\n      //booleen menu deroulant initialise a \"faux\"\n      logOut: false //booleen de deconnexion initialise a \"faux\"\n\n    };\n\n    this.toggleCollapse = () => {\n      this.setState({\n        isOpen: !this.state.isOpen\n      }); //change la valeur de \"isOpen\"\n    };\n  }\n\n  //fonction qui permet de fermer la session via le ficher PHP \"logout.php\" lorsque l'utilisateur appuie sur \"se deconnecter\"\n  handleLogOut() {\n    axios.get(\"http://localhost:8888/API/MonCompte/logout.php\", {\n      withCredentials: true\n    }) //succes deconnexion\n    .then(function (response) {\n      console.log(\"successful logout\", response);\n      this.setState({\n        logOut: true\n      }); //booleen de connexion changé comme \"vrai\"\n    }.bind(this)) //echec deconnexion\n    .catch(error => {\n      if (error.response && error.response.status === 403) {\n        console.log(error);\n      }\n    });\n  } //fonction qui permet d'ouvrir/fermer les menus deroulants lorsque l'utilisateur appuie sur \"contact\" ou \"mon compte\"\n\n\n  render() {\n    const bgRed = {\n      backgroundColor: 'rgb(83, 4, 4)'\n    };\n    const {\n      logOut\n    } = this.state; //Redirection vers page de connexion quand l'utilisateur se deconnecte\n\n    if (logOut) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      });\n    }\n\n    ; //affichage du menu avec redirections vers les pages correspondantes\n\n    return React.createElement(MDBNavbar, {\n      style: bgRed,\n      dark: true,\n      expand: \"md\",\n      scrolling: true,\n      fixed: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(MDBNavbarToggler, {\n      onClick: this.toggleCollapse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(MDBCollapse, {\n      id: \"navbarCollapse3\",\n      isOpen: this.state.isOpen,\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(MDBNavbarNav, {\n      left: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(MDBNavItem, {\n      active: true,\n      className: \"M\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/accueil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"MyBibli\"))), React.createElement(MDBNavItem, {\n      active: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/mesLivres\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Mes livres\")), React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/ajoutLivre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Ajouter un livre\")), React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/mesPrets\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"G\\xE9rer mes pr\\xEAts\")), React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/prochainAchat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Mes prochains achats\"))), React.createElement(MDBNavbarNav, {\n      right: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(MDBDropdown, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(MDBDropdownToggle, {\n      nav: true,\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-none d-md-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Contact\")), React.createElement(MDBDropdownMenu, {\n      className: \"dropdown-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(MDBDropdownItem, {\n      href: \"mailto:mybibli.sup@gmail.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"mybibli.sup@gmail.com\")))), React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(MDBDropdown, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(MDBDropdownToggle, {\n      nav: true,\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-none d-md-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Mon compte\")), React.createElement(MDBDropdownMenu, {\n      className: \"dropdown-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(MDBDropdownItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/gererMonCompte\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"G\\xE9rer mon compte\")), React.createElement(MDBDropdownItem, {\n      onClick: this.handleLogOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Se d\\xE9connecter\"))))))));\n  }\n\n}\n\nexport default NavbarPage;","map":{"version":3,"sources":["/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/src/components/NavBar/navBar.js"],"names":["React","Component","Link","MDBNavbar","MDBNavbarNav","MDBNavItem","MDBNavLink","MDBNavbarToggler","MDBCollapse","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","axios","Redirect","NavbarPage","state","isOpen","logOut","toggleCollapse","setState","handleLogOut","get","withCredentials","then","response","console","log","bind","catch","error","status","render","bgRed","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\n\nimport { MDBNavbar,  MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBDropdown,\nMDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem,  } from \"mdbreact\";\nimport axios from \"axios\";\nimport { Redirect} from 'react-router';\n\n\nclass NavbarPage extends Component {\nstate = {\n  isOpen: false,//booleen menu deroulant initialise a \"faux\"\n  logOut: false,//booleen de deconnexion initialise a \"faux\"\n};\n\n //fonction qui permet de fermer la session via le ficher PHP \"logout.php\" lorsque l'utilisateur appuie sur \"se deconnecter\"\n handleLogOut () {\n  axios.get(\"http://localhost:8888/API/MonCompte/logout.php\", {withCredentials: true})\n\n  //succes deconnexion\n  .then(function(response){\n    console.log(\"successful logout\", response);\n    this.setState({logOut: true});//booleen de connexion changé comme \"vrai\"\n  }.bind(this))\n\n  //echec deconnexion\n  .catch((error) => {\n    if(error.response && error.response.status=== 403){\n      console.log(error);\n    }\n  });\n}\n\n//fonction qui permet d'ouvrir/fermer les menus deroulants lorsque l'utilisateur appuie sur \"contact\" ou \"mon compte\"\ntoggleCollapse = () => {\n  this.setState({ isOpen: !this.state.isOpen });//change la valeur de \"isOpen\"\n}\n\nrender() {\n  const bgRed = {backgroundColor: 'rgb(83, 4, 4)'}\n  const{logOut} = this.state;\n\n  //Redirection vers page de connexion quand l'utilisateur se deconnecte\n  if(logOut){\n    return <Redirect to=\"/\"/>;\n  };\n\n  //affichage du menu avec redirections vers les pages correspondantes\n  return (\n      <MDBNavbar style={bgRed} dark expand=\"md\" scrolling fixed=\"top\">\n\n        <MDBNavbarToggler onClick={this.toggleCollapse} />\n        <MDBCollapse id=\"navbarCollapse3\" isOpen={this.state.isOpen} navbar>\n          <MDBNavbarNav left>\n          <MDBNavItem active  className=\"M\">\n              <MDBNavLink to=\"/accueil\"><strong>MyBibli</strong></MDBNavLink>\n            </MDBNavItem>\n            <MDBNavItem active>\n              <MDBNavLink to=\"/mesLivres\">Mes livres</MDBNavLink>\n            </MDBNavItem>\n            <MDBNavItem>\n              <MDBNavLink to=\"/ajoutLivre\">Ajouter un livre</MDBNavLink>\n            </MDBNavItem>\n            <MDBNavItem>\n              <MDBNavLink to=\"/mesPrets\">Gérer mes prêts</MDBNavLink>\n            </MDBNavItem>\n            <MDBNavItem>\n              <MDBNavLink to=\"/prochainAchat\">Mes prochains achats</MDBNavLink>\n            </MDBNavItem>\n            </MDBNavbarNav>\n            \n\n            <MDBNavbarNav right>\n            <MDBNavItem>\n              <MDBDropdown>\n                <MDBDropdownToggle nav caret>\n                  <div className=\"d-none d-md-inline\">Contact</div>\n                </MDBDropdownToggle>\n                <MDBDropdownMenu className=\"dropdown-default\">\n                  <MDBDropdownItem href=\"mailto:mybibli.sup@gmail.com\">mybibli.sup@gmail.com</MDBDropdownItem>\n                  \n                </MDBDropdownMenu>\n              </MDBDropdown>\n            </MDBNavItem>\n\n            <MDBNavItem>\n              <MDBDropdown>\n                <MDBDropdownToggle nav caret>\n                  <div className=\"d-none d-md-inline\">Mon compte</div>\n                </MDBDropdownToggle>\n                <MDBDropdownMenu className=\"dropdown-default\">\n                <MDBDropdownItem >\n                 <Link to=\"/gererMonCompte\">\n                    Gérer mon compte\n                    </Link>\n                    </MDBDropdownItem>\n                  <MDBDropdownItem  onClick = {this.handleLogOut} >\n                  <Link to=\"/\">\n                    Se déconnecter\n                    </Link>\n                    </MDBDropdownItem>\n                </MDBDropdownMenu>\n              </MDBDropdown>\n            </MDBNavItem>\n        \n    \n          </MDBNavbarNav>\n        </MDBCollapse>\n      </MDBNavbar>\n    );\n  }\n}\n\nexport default NavbarPage;\n"]},"metadata":{},"sourceType":"module"}