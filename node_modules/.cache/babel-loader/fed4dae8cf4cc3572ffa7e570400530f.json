{"ast":null,"code":"var _jsxFileName = \"/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/src/components/MesProchainsAchats/mesProchainsAchats.js\";\nimport React, { Fragment } from \"react\";\nimport { MDBBtn, MDBTableBody, MDBTableHead, MDBTable, MDBModal, MDBModalHeader, MDBModalBody, MDBModalFooter } from \"mdbreact\";\nimport './mesProchainsAchats.css';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\n\nclass NextPurchasePage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.openModalBuy = id => e => {\n      this.setState({\n        modal: true,\n        idPurchase: id\n      });\n    };\n\n    this.closeModalBuy = () => {\n      this.setState({\n        modal: false\n      });\n    };\n\n    this.change = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.buyBook = (year, date, edition, typeBook) => e => {\n      const {\n        idPurchase,\n        purchases\n      } = this.state;\n      let newBooks = purchases;\n      console.log(idPurchase, 'idPurchaseSubmit');\n      this.setState({\n        modal: false\n      });\n      let formData = new FormData();\n      formData.append(\"id\", idPurchase);\n      formData.append(\"year\", year);\n      formData.append(\"date\", date);\n      formData.append(\"edition\", edition);\n      formData.append(\"typeBook\", typeBook);\n      const url = \"http://localhost:8888/API/MesProchainsAchats/transfert_prochain_achat.php\";\n      axios.post(url, formData, {\n        withCredentials: true\n      }) //succes achat livre\n      .then(function (response) {\n        console.log(response.status, response);\n        alert('Livre transféré dans votre bibliothèque');\n        const tmp = purchases;\n        newBooks = tmp.filter(livre => livre.id !== idPurchase);\n      }) //echec achat livre\n      .catch(error => {\n        console.log(error);\n\n        if (error.response && error.response.status === 403) {\n          console.log(error);\n          alert(error.response.data);\n        }\n      });\n      setTimeout(() => {\n        this.setState({\n          purchases: newBooks\n        });\n      }, 500);\n      setTimeout(() => {\n        this.setState({\n          error: ''\n        });\n      }, 2000);\n      e.preventDefault();\n    };\n\n    this.handleDelete = id => e => {\n      const {\n        purchases\n      } = this.state;\n      let newBooks = purchases;\n      let formData = new FormData();\n      formData.append(\"id\", id);\n      const url = \"http://localhost:8888/API/MesLivres/supprimer_livre.php\";\n      axios.post(url, formData, {\n        withCredentials: true\n      }).then(function (response) {\n        const tmp = purchases;\n        newBooks = tmp.filter(livre => livre.id !== id);\n        alert('Livre supprimé de vos prochains achats');\n      }).catch(error => {\n        console.log(error);\n\n        if (error.response.status === 403) {\n          console.log(error);\n          alert('Echec de la suppression');\n        }\n      });\n      setTimeout(() => {\n        this.setState({\n          purchases: newBooks\n        });\n      }, 500);\n      setTimeout(() => {\n        this.setState({\n          error: ''\n        });\n      }, 2000);\n      e.preventDefault();\n    };\n\n    this.state = {\n      noSession: false,\n      //booleen qui permet de verifier si la session de l'utilisateur est active, initialisé a \"faux\"\n      loading: true,\n      //booleen initialisé comme vrai, qui va changer lors de la récupération des données\n      purchases: [],\n      //va contenir les prochains achats de l'utilisateur\n      year: '',\n      //va contenir la valeur entrée pour le champs \"année de sortie\" du formulaire de validation d'achat\n      date: '',\n      //va contenir la valeur entrée pour le champs \"date d'achat\" du formulaire de validation d'achat\n      edition: '',\n      //va contenir la valeur entrée pour le champs \"edition\" du formulaire de validation d'achat\n      typeBook: '',\n      //va contenir la valeur entrée pour le champs \"type\" du formulaire de validation d'achat\n      modal: false,\n      //booleen qui va permettre d'ouvrir/fermer une fenetre lorsque l'utilisateur appuie sur \"acheté\"\n      id: '',\n      //va contenir l'id du livre selectionné par l'utilisateur lorsqu'il appuiera sur les boutons \"acheté/supprimer\"\n      error: '',\n      //va contenir l'erreur en cas d'erreur\n      idPurchase: null //va contenir l'id du livre acheté\n\n    };\n    this.checkSession = this.checkSession.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.buyBook = this.buyBook.bind(this);\n    this.openModalBuy = this.openModalBuy.bind(this);\n  } //Vérifie que la session est active\n\n\n  checkSession() {\n    axios.get(\"http://localhost:8888/API/Session/session.php\", {\n      withCredentials: true\n    }).then(function (response) {\n      console.log(response);\n    }).catch(error => {\n      if (error.response && error.response.status === 404) {\n        this.setState({\n          noSession: true\n        }); //s'il n'y a pas de session active, change la valeur du booleen comme \"vrai\"\n\n        console.log(error);\n      }\n    });\n  } //methode qui permet d'ouvrir une fenetre contenant un formulaire a completer par l'utilisateur, lorsque celui-ci appuie sur \"acheté\"\n\n\n  //methode qui permet de récuperer les prochains achats de l'utilisateur via le fichier \"liste_achat.php\"\n  async componentDidMount() {\n    const url = \"http://localhost:8888/API/MesProchainsAchats/liste_achat.php\";\n    const response = await fetch(url, {\n      credentials: 'include'\n    });\n    const data = await response.json();\n    this.setState({\n      purchases: data.results.livres,\n      loading: false\n    }); //\"purchases\" contient les données reçues par le back-end \n\n    console.log(data.results.livres);\n  }\n\n  render() {\n    const {\n      noSession\n    } = this.state; //appel à la methode qui verifie la session\n\n    this.checkSession(); //s'il n'y a pas de session active, redirection vers la page de connexion\n\n    if (noSession) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      });\n    } //si le temps de récupération des données a afficher est long\n\n\n    if (this.state.loading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"chargement...\");\n    } //si l'utilisateur n'a pas de prochains achats prevus\n    //affichage du bouton qui redirige vers le formulaire de prochain achat\n\n\n    if (this.state.purchases.length === 0) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"titleMyPurchases\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \" Mes prochains achats \"), React.createElement(\"div\", {\n        className: \"noPurchase\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"Vous n'avez actuellement aucun achat pr\\xE9vu.\"), React.createElement(\"div\", {\n        className: \"buttonAchat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        href: \"/formulaireProchainAchat\",\n        color: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Ajouter un prochain achat\"))));\n    } //sinon:\n    //affichage d'un tableau avec les prochains achats de l'utilisateur, grâce a la fonction map qui va parcourir \"purchases\"\n    //affichage des boutons \"supprimer\" et \"acheté\" sur chaque ligne du tableau\n    //ouverture d'une fenetre avec le formulaire d'achat\n    //affichage du bouton qui redirige vers le formulaire de prochain achat\n\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"titleMyPurchases\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \" Mes prochains achats \"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \" Vous avez \", this.state.purchases.length, \" prochain(s) achat(s) programm\\xE9(s):\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), React.createElement(MDBTable, {\n      hover: true,\n      bordered: true,\n      scrollY: true,\n      maxHeight: \"350px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(MDBTableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Titre\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Auteur\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }))), React.createElement(MDBTableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, this.state.purchases.map(livre => React.createElement(\"tr\", {\n      key: livre.id,\n      onChange: this.Change,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, livre.title), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, livre.author), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      onClick: this.openModalBuy(livre.id),\n      color: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Achet\\xE9\"), React.createElement(MDBModal, {\n      isOpen: this.state.modal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(MDBModalHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Informations compl\\xE8mentaires\"), React.createElement(MDBModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"year\",\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"Ann\\xE9e de sortie\"), React.createElement(\"input\", {\n      type: \"number\",\n      name: \"year\",\n      value: this.state.year,\n      className: \"form-control\",\n      placeholder: \"Ann\\xE9e\",\n      onChange: e => this.change(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"date\",\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Date d'achat\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"date\",\n      value: this.state.date,\n      placeholder: \"jj/mm/aa\",\n      className: \"form-control\",\n      onChange: e => this.change(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"edition\",\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Edition\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"edition\",\n      value: this.state.edition,\n      placeholder: \"Edition\",\n      className: \"form-control\",\n      onChange: e => this.change(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"typeBook\",\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Type\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"typeBook\",\n      value: this.state.typeBook,\n      placeholder: \"Type\",\n      className: \"form-control\",\n      onChange: e => this.change(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    })), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"danger\",\n      onClick: this.closeModalBuy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, \"Annuler\"), React.createElement(MDBBtn, {\n      onClick: this.buyBook(this.state.year, this.state.date, this.state.edition, this.state.typeBook),\n      color: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"Valider l'achat\")))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      onClick: this.handleDelete(livre.id),\n      color: \"danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Supprimer\")))))), React.createElement(\"div\", {\n      className: \"buttonAchat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      href: \"/formulaireProchainAchat\",\n      color: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"Ajouter un prochain achat\"))));\n  }\n\n}\n\nexport default NextPurchasePage;","map":{"version":3,"sources":["/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/src/components/MesProchainsAchats/mesProchainsAchats.js"],"names":["React","Fragment","MDBBtn","MDBTableBody","MDBTableHead","MDBTable","MDBModal","MDBModalHeader","MDBModalBody","MDBModalFooter","axios","Redirect","NextPurchasePage","Component","constructor","props","openModalBuy","id","e","setState","modal","idPurchase","closeModalBuy","change","target","name","value","buyBook","year","date","edition","typeBook","purchases","state","newBooks","console","log","formData","FormData","append","url","post","withCredentials","then","response","status","alert","tmp","filter","livre","catch","error","data","setTimeout","preventDefault","handleDelete","noSession","loading","checkSession","bind","get","componentDidMount","fetch","credentials","json","results","livres","render","length","map","Change","title","author"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { MDBBtn, MDBTableBody, MDBTableHead, MDBTable, MDBModal, MDBModalHeader, MDBModalBody,MDBModalFooter,} from \"mdbreact\";\nimport './mesProchainsAchats.css';\nimport axios from 'axios';\nimport { Redirect} from 'react-router';\n\n\nclass NextPurchasePage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      noSession: false,//booleen qui permet de verifier si la session de l'utilisateur est active, initialisé a \"faux\"\n      loading: true,//booleen initialisé comme vrai, qui va changer lors de la récupération des données\n      purchases: [],//va contenir les prochains achats de l'utilisateur\n      year: '',//va contenir la valeur entrée pour le champs \"année de sortie\" du formulaire de validation d'achat\n      date: '',//va contenir la valeur entrée pour le champs \"date d'achat\" du formulaire de validation d'achat\n      edition: '',//va contenir la valeur entrée pour le champs \"edition\" du formulaire de validation d'achat\n      typeBook: '',//va contenir la valeur entrée pour le champs \"type\" du formulaire de validation d'achat\n      modal: false,//booleen qui va permettre d'ouvrir/fermer une fenetre lorsque l'utilisateur appuie sur \"acheté\"\n      id: '',//va contenir l'id du livre selectionné par l'utilisateur lorsqu'il appuiera sur les boutons \"acheté/supprimer\"\n      error: '',//va contenir l'erreur en cas d'erreur\n      idPurchase: null,//va contenir l'id du livre acheté\n    }\n    this.checkSession = this.checkSession.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.buyBook = this.buyBook.bind(this);\n    this.openModalBuy = this.openModalBuy.bind(this);\n  }\n\n  //Vérifie que la session est active\n  checkSession () {\n    axios.get(\"http://localhost:8888/API/Session/session.php\", {withCredentials: true})\n\n    .then(function(response){\n      console.log(response);\n    })\n\n    .catch((error) => {\n      if(error.response && error.response.status=== 404){\n        this.setState({noSession: true});//s'il n'y a pas de session active, change la valeur du booleen comme \"vrai\"\n        console.log(error);\n      }\n    });\n  }\n\n  //methode qui permet d'ouvrir une fenetre contenant un formulaire a completer par l'utilisateur, lorsque celui-ci appuie sur \"acheté\"\n  openModalBuy = (id) => e => {\n    this.setState({\n      modal: true,\n      idPurchase: id\n    });\n  }\n\n  //methode qui permet de fermer la fenetre d'achat, lorsque l'utilisateur appuie sur \"annuler\"\n  closeModalBuy = () => {\n  this.setState({\n    modal: false,\n    });\n  }\n\n  //methode qui permet d'attribuer à \"year\", \"date\", \"edition\" et \"typeBook\" les nouvelles valeurs entrées au clavier par l'utilisateur lors de l'achat d'un livre\n  change = e => {\n    this.setState ({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  //methode qui permet d'envoyer les données au fichier PHP \"transfert_prochain_achat.php\" afin d'enregistrer les donnees d'un livre, lorque l'utilisateur appuie sur le bouton \"enregistrer\" de la fenetre d'achat\n  buyBook = (year, date, edition, typeBook) => e => {\n    const { idPurchase, purchases } = this.state;\n    let newBooks = purchases;\n    console.log(idPurchase,'idPurchaseSubmit');\n    this.setState({\n      modal: false,\n    })\n    let formData = new FormData();\n    formData.append(\"id\",idPurchase);\n    formData.append(\"year\",year);\n    formData.append(\"date\",date);\n    formData.append(\"edition\",edition);\n    formData.append(\"typeBook\",typeBook);\n    const url = \"http://localhost:8888/API/MesProchainsAchats/transfert_prochain_achat.php\"\n    axios.post(url, formData, {withCredentials: true})\n    \n    //succes achat livre\n    .then(function(response){\n      console.log(response.status, response)\n      alert('Livre transféré dans votre bibliothèque');\n      const tmp = purchases;\n      newBooks = tmp.filter(livre => livre.id !== idPurchase);\n    })\n\n  //echec achat livre\n  .catch((error)=>{\n    console.log(error)\n    if (error.response && error.response.status === 403){\n      console.log(error);\n      alert(error.response.data);\n    }\n  });\n\n  setTimeout(() => {\n    this.setState({\n      purchases: newBooks\n    })\n  }, 500);\n  \n  setTimeout(() => {\n    this.setState({\n      error: '',\n    });\n  }, 2000);\n        \n  e.preventDefault();\n}\n\n//methode qui permet d'envoyer au fichier PHP \"supprimer_livre.php\" l'id du livre a supprimer, lorsque l'utilisateur appuie sur le bouton \"supprimer\"\nhandleDelete = (id) => e => {\n  const { purchases } = this.state;\n  let newBooks = purchases;\n  let formData = new FormData();\n  formData.append(\"id\",id);\n  const url = \"http://localhost:8888/API/MesLivres/supprimer_livre.php\"\n  axios.post(url, formData, {withCredentials: true})\n  \n  .then(function(response){\n    const tmp = purchases;\n    newBooks = tmp.filter(livre => livre.id !== id);\n    alert('Livre supprimé de vos prochains achats');\n  })\n\n  .catch((error)=>{\n    console.log(error)\n    if (error.response.status === 403){\n      console.log(error);\n      alert('Echec de la suppression');\n    }\n  });\n\n  setTimeout(() => {\n    this.setState({\n      purchases: newBooks\n    })\n  }, 500);\n  \n\n  setTimeout(() => {\n    this.setState({\n      error: '',\n    });\n  }, 2000);\n        \n  e.preventDefault();\n}\n\n\n//methode qui permet de récuperer les prochains achats de l'utilisateur via le fichier \"liste_achat.php\"\nasync componentDidMount() {\n    const url = \"http://localhost:8888/API/MesProchainsAchats/liste_achat.php\";\n    const response = await fetch(url,{credentials: 'include'});\n    const data = await response.json();\n    this.setState({purchases: data.results.livres, loading: false})//\"purchases\" contient les données reçues par le back-end \n    console.log(data.results.livres);\n  }\n\nrender() {\n    const {noSession} = this.state;\n      \n    //appel à la methode qui verifie la session\n    this.checkSession ();\n\n    //s'il n'y a pas de session active, redirection vers la page de connexion\n    if(noSession){\n      return <Redirect to=\"/\"/>;\n    }\n\n    //si le temps de récupération des données a afficher est long\n    if(this.state.loading){\n        return <div>chargement...</div>;\n    }\n\n    //si l'utilisateur n'a pas de prochains achats prevus\n    //affichage du bouton qui redirige vers le formulaire de prochain achat\n    if (this.state.purchases.length === 0){\n        return (\n          <div>\n            <h1 className=\"titleMyPurchases\"> Mes prochains achats </h1>\n            <div className=\"noPurchase\">\n              Vous n'avez actuellement aucun achat prévu.\n            </div>\n            <div className=\"buttonAchat\">\n                <Fragment>\n                    <MDBBtn href=\"/formulaireProchainAchat\" color=\"dark\"> \n                      Ajouter un prochain achat\n                    </MDBBtn>\n                </Fragment>\n            </div>\n          </div>  \n        );\n    } \n\n  //sinon:\n  //affichage d'un tableau avec les prochains achats de l'utilisateur, grâce a la fonction map qui va parcourir \"purchases\"\n  //affichage des boutons \"supprimer\" et \"acheté\" sur chaque ligne du tableau\n  //ouverture d'une fenetre avec le formulaire d'achat\n  //affichage du bouton qui redirige vers le formulaire de prochain achat\n    return (\n        <div>\n          <h1 className=\"titleMyPurchases\"> Mes prochains achats </h1>\n          <h2> Vous avez {this.state.purchases.length} prochain(s) achat(s) programmé(s):</h2>\n          <br></br>\n          <MDBTable hover bordered scrollY maxHeight=\"350px\">\n            <MDBTableHead>\n              <tr>\n              <th>Titre</th>\n              <th>Auteur</th>\n              <th></th>\n              <th></th>\n              </tr>\n            </MDBTableHead>\n            <MDBTableBody>\n              {\n                this.state.purchases.map(livre => (\n                  <tr key={livre.id} onChange={this.Change}>\n                    <td>{livre.title}</td>\n                    <td>{livre.author}</td>\n                    <td>\n                      <MDBBtn onClick={this.openModalBuy(livre.id)} color=\"dark\">Acheté</MDBBtn>\n                      <MDBModal isOpen={this.state.modal}>\n                        <MDBModalHeader>Informations complèmentaires</MDBModalHeader>\n                        <MDBModalBody>\n                            <label htmlFor=\"year\" className=\"grey-text\">\n                          Année de sortie\n                        </label>\n                        <input\n                          type=\"number\"\n                          name=\"year\"\n                          value={this.state.year}\n                          className=\"form-control\"\n                          placeholder=\"Année\"\n                          onChange={e => this.change(e)}\n                          \n                        />\n\n                        <br />\n                        <label htmlFor=\"date\" className=\"grey-text\">\n                          Date d&apos;achat\n                        </label>\n                        <input\n                          type=\"date\"\n                          name=\"date\"\n                          value={this.state.date}\n                          placeholder=\"jj/mm/aa\"\n                          className=\"form-control\"\n                          onChange={e => this.change(e)}\n                          \n                        />\n\n                        <br />\n\n                        <label htmlFor=\"edition\" className=\"grey-text\">\n                          Edition\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"edition\"\n                          value={this.state.edition}\n                          placeholder=\"Edition\"\n                          className=\"form-control\"\n                          onChange={e => this.change(e)}\n                          \n                        />\n\n                        <br />\n\n                        <label htmlFor=\"typeBook\" className=\"grey-text\">\n                          Type\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"typeBook\"\n                          value={this.state.typeBook}\n                          placeholder=\"Type\"\n                          className=\"form-control\"\n                          onChange={e => this.change(e)}\n                          \n                        />\n                        </MDBModalBody>\n                        <MDBModalFooter>\n                          <MDBBtn color=\"danger\" onClick={this.closeModalBuy}>Annuler</MDBBtn>\n                          <MDBBtn onClick={this.buyBook(this.state.year, this.state.date, this.state.edition, this.state.typeBook)} color=\"dark\">Valider l'achat</MDBBtn>\n                        </MDBModalFooter>\n                      </MDBModal>\n                    </td>\n                    <td><MDBBtn onClick={this.handleDelete(livre.id)} color=\"danger\">Supprimer</MDBBtn></td>\n                  </tr>\n                ))\n              }\n            </MDBTableBody>\n          </MDBTable>\n          <div className=\"buttonAchat\">\n                <Fragment>\n                    <MDBBtn href=\"/formulaireProchainAchat\" color=\"dark\"> \n                      Ajouter un prochain achat\n                    </MDBBtn>\n                </Fragment>\n            </div>\n        </div>\n      );\n    }\n}\n\nexport default NextPurchasePage;"]},"metadata":{},"sourceType":"module"}