{"ast":null,"code":"import _classCallCheck from\"/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Link}from'react-router-dom';import{MDBNavbar,MDBNavbarNav,MDBNavItem,MDBNavLink,MDBNavbarToggler,MDBCollapse,MDBDropdown,MDBDropdownToggle,MDBDropdownMenu,MDBDropdownItem}from\"mdbreact\";import axios from\"axios\";import{Redirect}from'react-router';var NavbarPage=/*#__PURE__*/function(_Component){_inherits(NavbarPage,_Component);function NavbarPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,NavbarPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(NavbarPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={isOpen:false,//booleen menu deroulant initialise a \"faux\"\nlogOut:false//booleen de deconnexion initialise a \"faux\"\n};_this.toggleCollapse=function(){_this.setState({isOpen:!_this.state.isOpen});//change la valeur de \"isOpen\"\n};return _this;}_createClass(NavbarPage,[{key:\"handleLogOut\",//fonction qui permet de fermer la session via le ficher PHP \"logout.php\" lorsque l'utilisateur appuie sur \"se deconnecter\"\nvalue:function handleLogOut(){axios.get(\"http://localhost:8888/API/MonCompte/logout.php\",{withCredentials:true})//succes deconnexion\n.then(function(response){console.log(\"successful logout\",response);this.setState({logOut:true});//booleen de connexion changé comme \"vrai\"\n}.bind(this))//echec deconnexion\n.catch(function(error){if(error.response&&error.response.status===403){console.log(error);}});}//fonction qui permet d'ouvrir/fermer les menus deroulants lorsque l'utilisateur appuie sur \"contact\" ou \"mon compte\"\n},{key:\"render\",value:function render(){var bgRed={backgroundColor:'rgb(83, 4, 4)'};var logOut=this.state.logOut;//Redirection vers page de connexion quand l'utilisateur se deconnecte\nif(logOut){return React.createElement(Redirect,{to:\"/\"});};//affichage du menu avec redirections vers les pages correspondantes\nreturn React.createElement(MDBNavbar,{style:bgRed,dark:true,expand:\"md\",scrolling:true,fixed:\"top\"},React.createElement(MDBNavbarToggler,{onClick:this.toggleCollapse}),React.createElement(MDBCollapse,{id:\"navbarCollapse3\",isOpen:this.state.isOpen,navbar:true},React.createElement(MDBNavbarNav,{left:true},React.createElement(MDBNavItem,{active:true,className:\"M\"},React.createElement(MDBNavLink,{to:\"/accueil\"},React.createElement(\"strong\",null,\"MyBibli\"))),React.createElement(MDBNavItem,{active:true},React.createElement(MDBNavLink,{to:\"/mesLivres\"},\"Mes livres\")),React.createElement(MDBNavItem,null,React.createElement(MDBNavLink,{to:\"/ajoutLivre\"},\"Ajouter un livre\")),React.createElement(MDBNavItem,null,React.createElement(MDBNavLink,{to:\"/mesPrets\"},\"G\\xE9rer mes pr\\xEAts\")),React.createElement(MDBNavItem,null,React.createElement(MDBNavLink,{to:\"/prochainAchat\"},\"Mes prochains achats\"))),React.createElement(MDBNavbarNav,{right:true},React.createElement(MDBNavItem,null,React.createElement(MDBDropdown,null,React.createElement(MDBDropdownToggle,{nav:true,caret:true},React.createElement(\"div\",{className:\"d-none d-md-inline\"},\"Contact\")),React.createElement(MDBDropdownMenu,{className:\"dropdown-default\"},React.createElement(MDBDropdownItem,{href:\"mailto:mybibli.sup@gmail.com\"},\"mybibli.sup@gmail.com\")))),React.createElement(MDBNavItem,null,React.createElement(MDBDropdown,null,React.createElement(MDBDropdownToggle,{nav:true,caret:true},React.createElement(\"div\",{className:\"d-none d-md-inline\"},\"Mon compte\")),React.createElement(MDBDropdownMenu,{className:\"dropdown-default\"},React.createElement(MDBDropdownItem,null,React.createElement(Link,{to:\"/gererMonCompte\"},\"G\\xE9rer mon compte\")),React.createElement(MDBDropdownItem,{onClick:this.handleLogOut},React.createElement(Link,{to:\"/\"},\"Se d\\xE9connecter\"))))))));}}]);return NavbarPage;}(Component);export default NavbarPage;","map":{"version":3,"sources":["/Users/Megane/MonProjet/2019-l2aj2/trunk/2019-l2aj2/APP_Mac/src/components/NavBar/navBar.js"],"names":["React","Component","Link","MDBNavbar","MDBNavbarNav","MDBNavItem","MDBNavLink","MDBNavbarToggler","MDBCollapse","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","axios","Redirect","NavbarPage","state","isOpen","logOut","toggleCollapse","setState","get","withCredentials","then","response","console","log","bind","catch","error","status","bgRed","backgroundColor","handleLogOut"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\n\nimport { MDBNavbar,  MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBDropdown,\nMDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem,  } from \"mdbreact\";\nimport axios from \"axios\";\nimport { Redirect} from 'react-router';\n\n\nclass NavbarPage extends Component {\nstate = {\n  isOpen: false,//booleen menu deroulant initialise a \"faux\"\n  logOut: false,//booleen de deconnexion initialise a \"faux\"\n};\n\n //fonction qui permet de fermer la session via le ficher PHP \"logout.php\" lorsque l'utilisateur appuie sur \"se deconnecter\"\n handleLogOut () {\n  axios.get(\"http://localhost:8888/API/MonCompte/logout.php\", {withCredentials: true})\n\n  //succes deconnexion\n  .then(function(response){\n    console.log(\"successful logout\", response);\n    this.setState({logOut: true});//booleen de connexion changé comme \"vrai\"\n  }.bind(this))\n\n  //echec deconnexion\n  .catch((error) => {\n    if(error.response && error.response.status=== 403){\n      console.log(error);\n    }\n  });\n}\n\n//fonction qui permet d'ouvrir/fermer les menus deroulants lorsque l'utilisateur appuie sur \"contact\" ou \"mon compte\"\ntoggleCollapse = () => {\n  this.setState({ isOpen: !this.state.isOpen });//change la valeur de \"isOpen\"\n}\n\nrender() {\n  const bgRed = {backgroundColor: 'rgb(83, 4, 4)'}\n  const{logOut} = this.state;\n\n  //Redirection vers page de connexion quand l'utilisateur se deconnecte\n  if(logOut){\n    return <Redirect to=\"/\"/>;\n  };\n\n  //affichage du menu avec redirections vers les pages correspondantes\n  return (\n      <MDBNavbar style={bgRed} dark expand=\"md\" scrolling fixed=\"top\">\n\n        <MDBNavbarToggler onClick={this.toggleCollapse} />\n        <MDBCollapse id=\"navbarCollapse3\" isOpen={this.state.isOpen} navbar>\n          <MDBNavbarNav left>\n          <MDBNavItem active  className=\"M\">\n              <MDBNavLink to=\"/accueil\"><strong>MyBibli</strong></MDBNavLink>\n            </MDBNavItem>\n            <MDBNavItem active>\n              <MDBNavLink to=\"/mesLivres\">Mes livres</MDBNavLink>\n            </MDBNavItem>\n            <MDBNavItem>\n              <MDBNavLink to=\"/ajoutLivre\">Ajouter un livre</MDBNavLink>\n            </MDBNavItem>\n            <MDBNavItem>\n              <MDBNavLink to=\"/mesPrets\">Gérer mes prêts</MDBNavLink>\n            </MDBNavItem>\n            <MDBNavItem>\n              <MDBNavLink to=\"/prochainAchat\">Mes prochains achats</MDBNavLink>\n            </MDBNavItem>\n            </MDBNavbarNav>\n            \n\n            <MDBNavbarNav right>\n            <MDBNavItem>\n              <MDBDropdown>\n                <MDBDropdownToggle nav caret>\n                  <div className=\"d-none d-md-inline\">Contact</div>\n                </MDBDropdownToggle>\n                <MDBDropdownMenu className=\"dropdown-default\">\n                  <MDBDropdownItem href=\"mailto:mybibli.sup@gmail.com\">mybibli.sup@gmail.com</MDBDropdownItem>\n                  \n                </MDBDropdownMenu>\n              </MDBDropdown>\n            </MDBNavItem>\n\n            <MDBNavItem>\n              <MDBDropdown>\n                <MDBDropdownToggle nav caret>\n                  <div className=\"d-none d-md-inline\">Mon compte</div>\n                </MDBDropdownToggle>\n                <MDBDropdownMenu className=\"dropdown-default\">\n                <MDBDropdownItem >\n                 <Link to=\"/gererMonCompte\">\n                    Gérer mon compte\n                    </Link>\n                    </MDBDropdownItem>\n                  <MDBDropdownItem  onClick = {this.handleLogOut} >\n                  <Link to=\"/\">\n                    Se déconnecter\n                    </Link>\n                    </MDBDropdownItem>\n                </MDBDropdownMenu>\n              </MDBDropdown>\n            </MDBNavItem>\n        \n    \n          </MDBNavbarNav>\n        </MDBCollapse>\n      </MDBNavbar>\n    );\n  }\n}\n\nexport default NavbarPage;\n"]},"metadata":{},"sourceType":"module"}